(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(4369)}])},4369:function(e,t,s){"use strict";s.r(t);var n=s(5893),l=s(7294),a=s(1106),i=s(7814),c=s(9417),r=s(3636),o=s(1992),u=s(6863);r.vI.add(c.mRB,c.Tab);let d=()=>{let e=(0,l.useRef)(null),[t,s]=(0,l.useState)(""),[c,r]=(0,l.useState)([]),[d,h]=(0,l.useState)("Happy New Year");var f=-1;let j=()=>{fetch("/api/deadline").then(e=>e.json()).then(t=>{console.log(t),"lucky"==t.status?(f>0&&clearInterval(e.current),console.log(t.luckyPeople),console.log(e.user),h("Gift no: "+(f=t.luckyPeople.indexOf(e.user)+1))):h(t.deadline)})},x=t=>{let n=t.currentTarget.getAttribute("button-key");s(n),e.user=n,console.log("selectedName: ",n)},v=()=>{0===c.length&&fetch("/api/deadline",{method:"put"}).then(e=>e.json()).then(t=>{console.log(t),e(t)});let e=e=>{let t=[];e.forEach(e=>{t.push((0,n.jsx)(o.Z,{onClick:x,"button-key":e,children:e},e))}),r(t)}};(0,l.useEffect)(()=>{if(""===t&&v(),null===e.current){let s=setInterval(()=>{j()},1e3);e.current=s}});let p=()=>(0,n.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh"},children:(0,n.jsx)(u.Z,{orientation:"vertical","aria-label":"vertical outlined button group",children:c})}),m=()=>(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh"},children:[(0,n.jsx)("h1",{className:"baby",children:d}),(0,n.jsxs)("div",{className:"note",children:[t," ",(0,n.jsx)(i.G,{icon:"fa-gift"})]}),(0,n.jsxs)("div",{className:"xmas-tree",children:[(0,n.jsx)("div",{className:"star",children:(0,n.jsx)(i.G,{icon:"fas fa-star fa-spin"})}),(0,n.jsx)("div",{className:"t1"}),(0,n.jsx)("div",{className:"t2"}),(0,n.jsx)("div",{className:"t3"}),(0,n.jsx)("div",{className:"stem"}),(0,n.jsx)("div",{className:"snow-ground"})]})]});return(0,n.jsxs)("div",{className:"App",style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh"},children:[(0,n.jsx)(a.Z,{color:"#00bcd4"}),""===t?(0,n.jsx)(p,{}):(0,n.jsx)(m,{})]})};t.default=d}},function(e){e.O(0,[976,665,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);